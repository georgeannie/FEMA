Deployment Simulation for FEMA Code Challenge
------------

## Usage

```{R}
source('deployment_simulation.r')
deployments <- generage_deployments(num_years = 1)
processed_deployments <- process_deployments(responder_num = 30,deployments)
metrics <- calculate_metrics(processed_deployments)
```
or in using `simulate_deployments` wrapper function to simulate for 1 year with varying numbers for responders from 25 to 40
```{R}
sim <- simulate_deployments(1,25,40)
```
## Signatures

**generate_deployments**( *num_years* = 5, *lambda* = 0.0262 , *rate* =  0.0009 , *max_exec_time* = 5000 , *min_exec_time* = 1) 

arguments:

- num_years -  *Number of years to use in simulation* 
- lambda -  *Parameter for Poisson distribution of deployment request times*
- rate -  *Parameter for Exponential distribution*
- max_exec_time -  *Maximum execution time*
- min_exec_time -  *Minimum execution time*

returns:

- list
  - request_received_time, array
  - depl_length, array
  - depl_num , integer
  - num_years, integer
  

**process_deployments**( *responder_num* = 30, *deployments* )

arguments:

- responder_num - *Number of responder to used in processing*
- deployments - *deployments generated by `generate_deployments` function*

returns:

- dataframe of processed deployments

**calculate_metrics**( *depl*, *skip_hours* = 8760 )

arguments:

- depl - *deployments dataframe output by `process_deployments` function*
- skip_hours - *number of hours to skip, defaults to 8760 i.e. to the number of hours in a year*

returns:

- list of metrics:



**simulate_deployments**(
    *num_years* = 5,
    *resp_num_start*= 20, 
    *resp_num_end* = 50, 
    *mean_exec_time* = 1107.5, 
    *depl_rate* =  230.0,
    *skip_hours* = 8760,
    *max_exec_time* = 5000,
    *min_exec_time* = 2)

- num_years - *Number of years to use in simulation*
- resp_num_start - *Start number of responders*
- resp_num_end - *End number of deployments*
- mean_exec_time - *mean of the execution time of the generated deployments*
- depl_rate - *deployment rate per year*
- skip_hours - *parameter for `calculate_metrics` function*
- max_exec_time - *Maximum execution time, see above*
- min_exec_time - *Minimum execution time, see above*

returns:

- list
  - data - dataframe of generated deployments
  - metrics - dataframe of calculated metrics







